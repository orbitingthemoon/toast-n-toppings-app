<!DOCTYPE html>
<html>
<head>
    <title>Toast n Toppings</title>
    <link rel="icon" type="image/png" href="Icons/Favicon 2.png">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Press Start 2P', monospace;
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        
        .game-window {
            width: 800px;
            height: 600px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        /* Main Menu Screen */
        .main-menu {
            background-image: url('Background/Game Background.png');
            background-size: 100% 100%;
        }
        
        /* Toast Selection Screen */
        .toast-selection {
            background-image: url('Background/Game Screen.png');
            background-size: 100% 100%;
            display: none;
        }
        
        /* Toppings Screen */
        .toppings-screen {
            background-image: url('Background/Game Screen.png');
            background-size: 100% 100%;
            display: none;
        }

        /* Final Plate Screen */
        .final-plate {
            background-image: url('Background/Game Screen.png');
            background-size: 100% 100%;
            display: none;
        }

        /* Crumbs Screen */
        .crumbs-screen {
            background-image: url('Background/Game Screen.png');
            background-size: 100% 100%;
            display: none;
        }

        .crumbs-plate {
            width: 200px;
            height: auto;
            margin: 20px 0;
        }

        .nom-nom-title {
            width: 300px;
            height: auto;
            margin: 10px 0;
        }

        .logo {
            margin-bottom: 20px;
            width: 250px;
            height: auto;
        }

        .button-img {
            margin: 5px 10px;
            cursor: pointer;
            width: 100px;
            height: auto;
        }

        .button-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }

        .toast-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 25px;
        }

        .toast-option {
            cursor: pointer;
            width: 80px;
            height: auto;
            margin-bottom: 8px;
        }
        
        .toast-option:hover {
            transform: scale(1.05);
        }

        .toast-label {
            color: #CD7D12;
            font-size: 8px;
            margin-top: 5px;
            line-height: 1.2;
        }

        .topping-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 5px;
        }

        .topping-option {
            cursor: pointer;
            width: 75px;
            height: auto;
            margin-bottom: 5px;
        }

        .topping-option:hover {
            transform: scale(1.05);
        }

        .topping-label {
            color: #CD7D12;
            font-size: 6px;
            text-align: center;
            line-height: 1.1;
            max-width: 80px;
            word-wrap: break-word;
        }

        .toppings-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px;
            max-width: 600px;
        }

        .toast-options-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            margin-bottom: 30px;
        }

        .final-toast-display {
            width: 150px;
            height: auto;
            margin: 20px 0;
        }

        .final-toast-name {
            color: #CD7D12;
            font-size: 12px;
            margin: 10px 0;
            line-height: 1.3;
        }

        .screen-title {
            color: #8B4615;
            font-size: 18px;
            margin: 20px 0 30px 0;
        }
    </style>
</head>
<body>
    <!-- Main Menu Screen -->
    <div class="game-window main-menu" id="mainMenu">
        <img src="Background/LOGO.png" alt="Toast n Toppings" class="logo">
        
        <img src="Buttons/PLAY.png" alt="Play" class="button-img" onclick="showToastSelection()">
        <br>
        <img src="Buttons/MUSIC.png" alt="Music" class="button-img" onclick="playMusic()">
        <br>
        <img src="Buttons/QUIT.png" alt="Quit" class="button-img">
    </div>
    
    <!-- Toast Selection Screen -->
    <div class="game-window toast-selection" id="toastSelection">
        <div style="margin-top: 40px;">
            <h1 class="screen-title">Choose Your Toast</h1>
        </div>
        
        <div class="toast-options-container">
            <div class="toast-container">
                <img src="Toast Types/White Toast.png" alt="White Toast" class="toast-option" onclick="selectToast('white', this)">
                <div class="toast-label">White Toast</div>
            </div>
            <div class="toast-container">
                <img src="Toast Types/Brown Toast.png" alt="Brown Toast" class="toast-option" onclick="selectToast('brown', this)">
                <div class="toast-label">Brown Toast</div>
            </div>
            <div class="toast-container">
                <img src="Toast Types/Dark Toast.png" alt="Dark Toast" class="toast-option" onclick="selectToast('dark', this)">
                <div class="toast-label">Dark Toast</div>
            </div>
        </div>
        
        <div class="button-container">
            <img src="Buttons/BACK.png" alt="Back" class="button-img" onclick="goBackToMain()">
            <img src="Buttons/NEXT.png" alt="Next" class="button-img" onclick="goToToppingsScreen()">
        </div>
    </div>
    
    <!-- Add Toppings Screen -->
    <div class="game-window toppings-screen" id="toppingsScreen">
        <div style="margin-top: 30px;">
            <h1 class="screen-title">Add Your Toppings</h1>
        </div>

        <div class="toppings-grid" id="toppingsGrid"></div>

        <div class="button-container">
            <img src="Buttons/BACK.png" alt="Back" class="button-img" onclick="goBackToToastSelection()">
            <img src="Buttons/DONE.png" alt="Done" class="button-img" onclick="goToFinalPlate()">
        </div>
    </div>

    <!-- Final Plate Screen -->
    <div class="game-window final-plate" id="finalPlate">
        <div style="margin-top: 40px;">
            <h1 class="screen-title">Your Toast is Ready!</h1>
        </div>
        
        <div class="final-toast-name" id="finalToastName"></div>
        <img id="finalToastImage" class="final-toast-display" alt="Your Toast">
        
        <div class="button-container">
            <img src="Buttons/EAT.png" alt="Eat" class="button-img" onclick="eatToast()">
        </div>
    </div>

    <!-- Crumbs Screen -->
    <div class="game-window crumbs-screen" id="crumbsScreen">
        <div style="margin-top: 40px;">
            <img src="Background/Nom Nom Nom!.png" alt="Nom Nom Nom!" class="nom-nom-title">
            <h1 class="screen-title">That was delicious!</h1>
        </div>
        
        <img src="Background/Crumbs Plate.png" alt="Empty Plate with Crumbs" class="crumbs-plate">
        
        <div class="button-container">
            <img src="Buttons/MENU.png" alt="Menu" class="button-img" onclick="goToMainMenu()">
        </div>
    </div>

    <script>
        let selectedToast = '';
        let selectedToppings = [];

        function showToastSelection() {
            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('toastSelection').style.display = 'flex';
        }

        function selectToast(toastType, element) {
            // Remove glow from all toast options
            document.querySelectorAll('.toast-option').forEach(option => {
                option.style.filter = 'none';
            });
            
            // Add glow to selected toast
            element.style.filter = 'drop-shadow(0 0 20px #FFD700)';
            
            // Store which toast was selected
            selectedToast = toastType;
        }

        function goBackToMain() {
            document.getElementById('toastSelection').style.display = 'none';
            document.getElementById('mainMenu').style.display = 'flex';
        }

        function goToToppingsScreen() {
            if (selectedToast === '') {
                alert('Please select a toast first!');
                return;
            }
            
            document.getElementById('toastSelection').style.display = 'none';
            document.getElementById('toppingsScreen').style.display = 'flex';
            showToppings();
        }

        function goBackToToastSelection() {
            document.getElementById('toppingsScreen').style.display = 'none';
            document.getElementById('toastSelection').style.display = 'flex';
        }

        function showToppings() {
            const toppings = [
                'Avocado Slices',
                'Bacon', 
                'Blueberry Jam',
                'Strawberry Jam',
                'Butter',
                'Nutella',
                'Peanut Butter',
                'Fried Egg'
            ];

            const container = document.getElementById('toppingsGrid');
            container.innerHTML = '';

            // Get the right folder based on selected toast
            let folderName = '';
            if (selectedToast === 'white') {
                folderName = 'White Toasts Toppings';
            } else if (selectedToast === 'brown') {
                folderName = 'Brown Toasts Toppings';
            } else if (selectedToast === 'dark') {
                folderName = 'Dark Toasts Toppings';
            }

            toppings.forEach(toppingName => {
                const toppingContainer = document.createElement('div');
                toppingContainer.className = 'topping-container';

                const img = document.createElement('img');
                img.src = `${folderName}/${selectedToast.charAt(0).toUpperCase() + selectedToast.slice(1)} Toast ${toppingName}.png`;
                img.alt = toppingName;
                img.className = 'topping-option';
                img.onclick = function() { selectTopping(toppingName, this); };

                const label = document.createElement('div');
                label.className = 'topping-label';
                label.textContent = toppingName;

                toppingContainer.appendChild(img);
                toppingContainer.appendChild(label);
                container.appendChild(toppingContainer);
            });
        }

        function selectTopping(toppingName, element) {
            // Remove glow from all toppings first (only one can be selected)
            document.querySelectorAll('.topping-option').forEach(option => {
                option.style.filter = 'none';
            });
            
            // Clear previous selection
            selectedToppings = [];
            
            // Add the new selection
            selectedToppings.push(toppingName);
            element.style.filter = 'drop-shadow(0 0 15px #FFD700)';
        }

        function goToFinalPlate() {
            document.getElementById('toppingsScreen').style.display = 'none';
            document.getElementById('finalPlate').style.display = 'flex';
            displayFinalToast();
        }

        function displayFinalToast() {
            // Create toast name
            const toastName = selectedToast.charAt(0).toUpperCase() + selectedToast.slice(1) + ' Toast';
            let toppingsText = '';
            
            if (selectedToppings.length > 0) {
                toppingsText = ' with ' + selectedToppings.join(', ');
            }
            
            document.getElementById('finalToastName').textContent = toastName + toppingsText;
            
            // Display the final toast image
            const finalImage = document.getElementById('finalToastImage');
            
            // Check if there are selected toppings to show the combined toast
            if (selectedToppings.length > 0) {
                // Try to show combined toast image
                const folderName = selectedToast.charAt(0).toUpperCase() + selectedToast.slice(1) + ' Toasts Selected';
                const mainTopping = selectedToppings[0]; // Use first selected topping
                finalImage.src = `${folderName}/${selectedToast.charAt(0).toUpperCase() + selectedToast.slice(1)} Toast ${mainTopping}.png`;
            } else {
                // Show plain toast
                finalImage.src = `Toast Types/${selectedToast.charAt(0).toUpperCase() + selectedToast.slice(1)} Toast.png`;
            }
        }

        function eatToast() {
            document.getElementById('finalPlate').style.display = 'none';
            document.getElementById('crumbsScreen').style.display = 'flex';
        }

        function goToMainMenu() {
            selectedToast = '';
            selectedToppings = [];
            document.getElementById('crumbsScreen').style.display = 'none';
            document.getElementById('mainMenu').style.display = 'flex';
        }

        function playMusic() {
            // Open Spotify playlist in a new tab
            window.open('https://open.spotify.com/playlist/2SPwlWwjE4yXcbm1T9PikY?si=5884a9ed4a0048b2&nd=1&dlsi=9f3b8fd503d34fab', '_blank');
        }
    </script>
</body>
</html>